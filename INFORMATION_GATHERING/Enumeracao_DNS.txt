Enumeração DNS

Introdução

Todo site possui um IP válido na rede. O responsável por realizar a tradução de nome para IP e vice versa. Com a ferramenta apropriada poderemos levantar as seguintes informações através de um determinado alvo:

IP pelo qual o alvo responde.
Os ns do alvo.
Os mx do alvo.

Tipos de registros

Existem diversos tipos diferentes de registros DNS disponíveis, no entanto, abaixo será mostrado apenas o que significam os mais comuns de serem encontrados durante o gerenciamento de um domínio:

A – O A, também conhecido por hostname, é o registro central de um DNS, ele vincula um domínio ou subdomínio a um endereço IP direto.
AAAA – Executa a mesma função de A, porém, para um endereço IPv6.
NS – Name Server (Servidor de Domínio), especifica servidores DNS para o domínio ou subdomínio. Pelo menos, dois registros NS devem ser definidos para cada domínio. Geralmente, um principal e outro secundário.
CNAME – Significa Canonical NAME. Especifica um apelido (alias) para o hostname (A). É uma forma de redirecionamento.
MX – Sigla para Mail eXchanger. Aponta o servidor de e-mails. Pode-se especificar mais de um endereço, formando-se assim uma lista em ordem de prioridade para que haja alternativas no caso de algum e-mail não puder ser entregue.
PTR – PoinTeR, aponta o domínio reverso a partir de um endereço IP.
SOA – Start Of Authority. Indica o responsável por respostas autoritárias a um domínio, ou seja, o responsável pelo domínio. Também indica outras informações úteis como número serial da zona, replicação, etc.
TXT – Refere-se a TeXT, o qual permite incluir um texto curto em um hostname. Técnica usada para implementar o SPF.
SPF – Sender Policy Framework, é uma tentativa de controle de falsos e-mails. Permite ao administrador de um domínio definir os endereços das máquinas autorizadas a enviar mensagens neste domínio.
SRV – Abreviação de SeRVice, permite definir localização de serviços disponíveis em um domínio, inclusive seus protocolos e portas.

FERRAMENTAS PARA ENUMERAÇÃO DE DNS
- HOST
    EX: host -t ns businesscorp.com.br
        host -t mx businesscorp.com.br
        host www.businesscorp.com.br
        host -l businesscorp.com.br n2.businesscorp.com.br
- DIG
    EX: dig -t ns businesscorp.com.br
        dig -t cname businesscorp.com.br
        dig -t a businesscorp.com.br +short 
        dig -t axfr businesscorp.com.br @ns1.businesscorp.com.br (Zona Transfer)
- DNSENUM
    EX: dnsenum --enum businesscorp.com.br
- DNSRECON
    EX: dnsrecon -d businesscorp.com.br
- FIERCE
    EX: fierce -dns businesscorp.com.br
